function Site(e) {
    var a = {
        skrollr: void 0,
        init: function() {
            a.mode = a.modeDetect(), addClass(document.getElementsByTagName("html")[0], a.mode), a.prismMenuSetup(), "full" == a.mode ? (a.imagePreloader(), a.sectionsLoad(a.frames.total_steps), a.navigationLoad(), a.navigationArrowKeys(), a.skrollr = skrollr.init({
                beforerender: a.skrollrGo,
                smoothScrolling: !0
            })) : "static" == a.mode && (a.sectionsLoad(5e3, !0), a.skrollr = skrollr.init({
                beforerender: a.skrollrGo,
                smoothScrolling: !0
            })), a.scrollToLocation(0)
        },
        backgroundOpacity: function() {
            // var e = .5 * (a.progress.percent + .2) + .5;
            // a.background.element.style.opacity = e
        },
        gotToPrevSection: function() {
            a.scrollToLocation(a.frames.positions[Math.max(a.frames.currentPosition - 1, 0)] - 1)
        },
        gotToNextSection: function() {
            a.scrollToLocation(Math.min(a.frames.positions[Math.min(a.frames.currentPosition + 1, a.frames.positions.length - 1)] + 200, a.frames.positions[a.frames.positions.length - 1]))
        },
        imageLoadHiRes: debounce(function() {
            a.progress.scrolling = !1, a.imageLooper();
            var e = [a.frames.hi_path, a.frames.prefix, Math.max(Math.ceil(a.progress.currentFrame), 1), a.frames.ext].join(""),
                t = new Image;
            t.src = e, t.onload = function() {
                console.debug("Hi Res Loaded"), a.imageSet(t)
            }
        }, 500),
        imageLooper: function() {
            var e = 0,
                t = 1,
                o = 4,
                r = 1,
                s = 200;
            images = 0, a.looping = function() {
                a.progress.currentFrame >= a.sections[0].in_frame && a.progress.currentFrame < a.sections[a.sections.length - 1].out_frame && (a.loopTimeout = setTimeout(function() {
                    var s = a.progress.currentFrame;
                    1 == r ? e + t <= o ? e += t : (r = -1, e -= t) : e - t > o * -1 ? e -= t : (r = 1, e += t);
                    var n = [a.frames.hi_path, a.frames.prefix, Math.round(s + e), a.frames.ext].join(""),
                        i = new Image;
                    i.src = n, a.imageSet(i), a.looping()
                }, s))
            }, a.looping()
        },
        imagePreloader: function() {
            function e() {
                a.frames.loaded.partial = !0
            }

            function t() {
                a.frames.loaded.count++, a.imagePreloaderAnimate(), a.frames.loaded.count == a.frames.count && (a.imagesLoadedHandler(), addClass(a.progress.loader, a.progress.completeClassName), addClass(document.getElementsByTagName("html")[0], a.progress.completeClassName), console.debug("Lo Res Images Loaded", a.frames.loaded.count), a.frames.loaded.partial && console.warn("Not All Images Loaded Successfully"))
            }
            for (var o = 1; o <= a.frames.count; o++) {
                var r = [a.frames.lo_path, a.frames.prefix, o, a.frames.ext].join(""),
                    s = new Image;
                s.src = r, s.onload = t, s.onerror = e, a.frames.data.push(s)
            }
        },
        imagePreloaderAnimate: function() {
            var e = Math.round(a.frames.loaded.count / a.frames.count * 100),
                t = -360 * (e / 100) + 45;
            a.progress.loaderPrism.style.webkitTransform = "rotateY(" + t + "deg) rotateX(" + t + "deg)", a.progress.loaderPrism.style.transform = "rotateY(" + t + "deg) rotateX(" + t + "deg)", a.progress.loaderMessage.innerHTML = e + "%"
        },
        imageSet: function(e) {
            var t = a.background.element.getContext("2d");
            t.drawImage(e, 0, 0, 1280, 720)
        },
        imagesLoadedHandler: function() {
            a.progress.currentFrame = 1
        },
        modeDetect: function() {
            var e = !1;
            return function(a) {
                (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) && (e = !0)
            }(navigator.userAgent || navigator.vendor || window.opera), e ? "static" : "full"
        },
        navigationArrowKeys: function() {
            var e, t = {};
            window.onkeydown = function(o) {
                if (!e || e.keyCode != o.keyCode) {
                    switch (e = o, o.keyCode) {
                        case 37:
                        case 38:
                        case 33:
                            a.gotToPrevSection();
                            break;
                        case 39:
                        case 40:
                        case 34:
                            a.gotToNextSection()
                    }
                    t[o.keyCode] = !0
                }
            }, window.onkeyup = function(a) {
                e = null, delete t[a.keyCode]
            }
        },
        navigationLoad: function() {
            function e(e, t) {
                var o = document.createElement("span");
                o.id = "nav-item-" + Math.round(e * a.frames.count), o.setAttribute("data-frame", Math.round(e * a.frames.count)), o.addEventListener("click", function() {
                    a.scrollToLocation(t)
                }, !1), o.style.top = Math.round(1e4 * e) / 100 + "%", a.progress.navItems.push(o), a.progress.indicatorContainer.appendChild(o)
            }
            e(0, a.frames.positions[0]);
            for (var t = 0; t < a.sections.length; t++) ! function() {
                var o = a.sections[t];
                e(o.navItemTop, a.frames.positions[t + 1])
            }();
            e(1, a.frames.positions[a.frames.positions.length - 1])
        },
        prismMenuSetup: function() {
            a.progress.spinnerPrism.addEventListener("click", function() {
                toggleClass(a.progress.prismMenu, "open")
            })
        },
        prismMenuSpin: function() {
            var e = -360 * ((a.progress.currentFrame - 1) / (a.frames.count - 1)),
                t = "rotateX(" + e + "deg) rotateY(" + e + "deg)";
            a.progress.spinnerPrism.style.webkitTransform = t, a.progress.spinnerPrism.style.transform = t
        },
        progressHandler: function(e) {
            if (clearTimeout(a.loopTimeout), a.progress.indicator.style.bottom = Math.round(1e4 * (1 - a.progress.percent)) / 100 + "%", a.sceneController(), "full" == a.mode) {
                a.backgroundOpacity();
                var t = Math.ceil(a.progress.percent * a.frames.data.length),
                    o = a.frames.data[t - 1];
                o && a.imageSet(o), a.progress.currentFrame = t, a.imageLoadHiRes()
            }
        },
        sceneController: function() {
            for (var e = a.progress.currentFrame, t = 0; t < a.progress.navItems.length; t++) {
                var o = a.progress.navItems[t],
                    r = parseInt(o.getAttribute("data-frame"));
                "down" == a.progress.direction && e >= r - 2 ? hasClass(o, "active") || (addClass(o, "active"), a.frames.currentPosition = t) : "up" == a.progress.direction && Math.floor(e) < r - 1 && hasClass(o, "active") && (removeClass(o, "active"), a.frames.currentPosition = t - 1)
            }
        },
        scrollToLocation: function(e) {
            addClass(document.body, "scrolling"), a.skrollr.animateTo(e, {
                duration: 1e3,
                easing: "cubic",
                done: function() {
                    removeClass(document.body, "scrolling")
                }
            })
        },
        sectionsLoad: function(e, t) {
            for (var o = a.sections[0].in_perc, r = a.sections[a.sections.length - 1].out_perc, s = (a.frames.count, 0), n = 0; n < a.sections.length; n++) s += a.sections[n].content.length;
            var i = t ? 0 : Math.round(o * e),
                m = t ? 0 : Math.round((1 - r) * e),
                c = e - m - i,
                l = Math.round(c / s),
                d = Math.floor(.3 * l),
                p = Math.floor(.3 * l),
                g = l - d - p,
                u = i;
            if (!t) {
                var f = document.createElement("section");
                f.id = "section-0", a.frames.positions.push(0), f.innerHTML = "<div data-0='opacity: 0;' data-" + i + "='opacity: 0;'></div>", a.sectionsContainer.appendChild(f)
            }
            for (var n = 0; n < a.sections.length; n++) {
                var v = a.sections[n],
                    f = document.createElement("section");
                f.id = "section-" + (n + 1);
                for (var h = "", b = p * v.content.length, y = u + d * (v.content.length + 1) + b, k = y + g, w = 0; w < v.content.length; w++) {
                    var C = u + d,
                        _ = C + g;
                    if (t && 0 == n) var M = ["", "data-" + y + "='opacity: 1; transform: translateX(0rem)'", "data-" + Math.round(y + .2 * (k - y)) + "='opacity: 0.8; transform: translateX(0.4rem)'", "data-" + k + "='opacity: 0; transform: translateX(-1rem)'"].join(" ");
                    else if (t && n == a.sections.length - 1) var M = ["", "data-" + C + "='opacity: 0; transform: translateX(-1rem)'", "data-" + Math.round(C + .8 * (_ - C)) + "='opacity: 0.8; transform: translateX(0.4rem)'", "data-" + _ + "='opacity: 1; transform: translateX(0rem)'", "data-" + y + "='opacity: 1; transform: translateX(0rem)'", "data-" + k + "='opacity: 1; transform: translateX(0rem)'"].join(" ");
                    else var M = ["", "data-" + C + "='opacity: 0; transform: translateX(-1rem)'", "data-" + Math.round(C + .8 * (_ - C)) + "='opacity: 0.8; transform: translateX(0.4rem)'", "data-" + _ + "='opacity: 1; transform: translateX(0rem)'", "data-" + y + "='opacity: 1; transform: translateX(0rem)'", "data-" + Math.round(y + .2 * (k - y)) + "='opacity: 0.8; transform: translateX(0.4rem)'", "data-" + k + "='opacity: 0; transform: translateX(-1rem)'"].join(" ");
                    0 == w && (0 != n && f.setAttribute("data-0", "@active: false;"), f.setAttribute("data-" + C, "@active: true;")), w == v.content.length - 1 && (f.setAttribute("data-" + k, "@active: false;"), v.navItemTop = _ / e, a.frames.positions.push(_)), v.content[w] = v.content[w].replace("<div", "<div" + M), h += v.content[w], u += d
                }
                u += (d + p) * v.content.length, f.innerHTML = h, a.sectionsContainer.appendChild(f)
            }
            if (!t) {
                var f = document.createElement("section");
                f.id = "section-" + (a.sections.length + 1);
                var M = "<div data-" + (i + c) + "='opacity: 0;' data-" + (i + c + m) + "='opacity: 0;'></div>";
                f.innerHTML = M, a.sectionsContainer.appendChild(f), a.frames.positions.push(i + c + m)
            }
        },
        skrollrGo: function(e) {
            var t = e.curTop / e.maxTop;
            a.progress.direction = a.progress.percent > t ? "up" : "down", a.progress.percent = t, a.progressHandler()
        },
        background: {
            element: e.background.element
        },
        frames: {
            count: e.frames.count,
            total_steps: e.frames.total_steps,
            lo_path: e.frames.lo_path,
            hi_path: e.frames.hi_path,
            prefix: e.frames.prefix,
            ext: e.frames.ext,
            loaded: {
                count: 0,
                val: !1,
                partial: !1
            },
            currentPosition: 0,
            positions: new Array,
            data: new Array
        },
        goingToFrame: !1,
        looping: void 0,
        mode: void 0,
        progress: {
            loader: e.progress.loader,
            loaderPrism: e.progress.loaderPrism,
            loaderMessage: e.progress.loaderMessage,
            completeClassName: e.progress.completeClassName,
            indicator: e.progress.indicator,
            indicatorContainer: e.progress.indicatorContainer,
            prismMenu: e.progress.prismMenu,
            spinnerPrism: e.progress.spinnerPrism,
            navItems: [],
            scrolling: !1,
            direction: "down",
            currentFrame: 1,
            percent: 0
        },
        sectionsContainer: e.sectionsContainer,
        sections: e.sections
    };
    return a
}

function debounce(e, a, t) {
    var o;
    return function() {
        var r = this,
            s = arguments,
            n = function() {
                o = null, t || e.apply(r, s)
            },
            i = t && !o;
        clearTimeout(o), o = setTimeout(n, a), i && e.apply(r, s)
    }
}

function hasClass(e, a) {
    return new RegExp(" " + a + " ").test(" " + e.className + " ")
}

function addClass(e, a) {
    hasClass(e, a) || (e.className += " " + a)
}

function removeClass(e, a) {
    var t = " " + e.className.replace(/[\t\r\n]/g, " ") + " ";
    if (hasClass(e, a)) {
        for (; t.indexOf(" " + a + " ") >= 0;) t = t.replace(" " + a + " ", " ");
        e.className = t.replace(/^\s+|\s+$/g, "")
    }
}

function toggleClass(e, a) {
    var t = " " + e.className.replace(/[\t\r\n]/g, " ") + " ";
    if (hasClass(e, a)) {
        for (; t.indexOf(" " + a + " ") >= 0;) t = t.replace(" " + a + " ", " ");
        e.className = t.replace(/^\s+|\s+$/g, "")
    } else e.className += " " + a
}

function replaceClass(e, a, t) {
    removeClass(e, a), addClass(e, t)
}
var settings = {
        frames: {
            count: 202,
            total_steps: 24484,
            lo_path: "ardnahcimor/images/bg/rl/",
            hi_path: "ardnahcimor/images/bg/rh/",
            prefix: "img",
            ext: ".jpg"
        },
        progress: {
            loader: document.getElementById("loader"),
            loaderPrism: document.querySelector("#loader .prism .shape"),
            loaderMessage: document.querySelector("#loader .message"),
            indicator: document.getElementById("indicator"),
            indicatorContainer: document.getElementById("indicator-container"),
            prismMenu: document.getElementById("prism-menu"),
            spinnerPrism: document.getElementById("progress-spinner-prism"),
            completeClassName: "loaded"
        },
        background: {
            element: document.getElementById("background")
        },
        sectionsContainer: document.getElementById("sections"),
        sections: []
    },
    section_content = [
        ["<div>I am <em>Romi Chandra</em>.</div>", "<div> I <em>create</em> for creation's sake.</div>", "<div class='space'>Since you're here, let's connect to progress </div>", "<div> the <em>sequence of life</em> with </div>", "<div> another <em>prime</em> number.</div>", "<div></div>"],
        ["<div>Before connecting, you should know</div>", "<div>something about <em>me</em>, <em>perception</em> and <em>opposites</em>.</div>", "<div class='space'>You perceive a <em>Blue</em> bottle to be blue, albeit </div>", "<div>the bottle actually comprises of every colour</div>", "<div>but <em>not Blue</em>.</div>","<div class='space'>Similarly, I define myself</div>","<div> not by the things I <em>can</em> do, </div>","<div>but by the things I <em>cannot</em>.</div>"],
        ["<div>I could waste your time</div>", "<div>elaborating my <em>strengths</em> and <em>weaknesses</em>.</div>","<div class='space'> But ultimately, my interests and skills</div>", "<div>are as temporary as every language I know</div>","<div>and as fickle as every tool I use.</div>", "<div class='space'>As <em>temporary</em> as things</div>", "<div>that will be <em>useless</em> in coming future.</div>", "<div class='space'>As <em>fickle</em> as things</div>", "<div>that can be learned by <em>anyone</em>.</div>"],
        ["<div>I am still incomplete</div>", "<div>or to say <em>I am still progressing</em></div>", "<div class='space'>I become a <em>better</em> version of myself</div>", "<div>with every published release of <em>time.</em></div>", "<div class='space'>I never <em>forget</em> my past</div>", "<div>and always hold a <em>vision</em> for the future.</div>","<div class='space'>I hold on to my methods <em>loosely</em>,</div>", "<div>embrace <em>flexibility</em> and <em>modularity</em>,</div>", "<div>am willing to <em>learn</em>, expect to be <em>wrong</em>,</div>","<div>and am <em>confident</em> when I’m right.</div>"],
        ["<div>If you think I am nothing like <em>you</em>,</div>", "<div>We would make a great <em>team</em>.</div>", "<div class='space'>I have linked some of my <em>social</em></div>", "<div> and <em>professional</em> profiles,</div>","<div>feel free to share any thoughts</div>", "<div>that desire to <em>exist</em> in reality or <em>not</em>.</div>", "<div class='space'> I do <em>judge</em>, but I also <em>accept</em>.</div>"],
        ["<div>If you want to see what I am doing <em>now</em>:</div>", '<div class="sans"><a href="resume.pdf" target="_blank">Resume</a> / <a href="https://in.linkedin.com/in/romi-chandra-46727523" target="_blank">LinkedIn</a> / <a href="https://bitbucket.org/romichandra/" target="_blank">BitBucket</a></div>', '<div class="space">Or, if you would like to contact me:</div>', '<div class="sans lower"><a href="mailto:sensei.xml@gmail.com" target="_blank">sensei.xml@gmail.com</a> / <a href="mailto:romi.d.nerd@gmail.com" target="_blank">romi.d.nerd@gmail.com</a></div>']
    ],
    total_frames = 202;
start = 46, stop = 196, pad = 10, each = Math.floor((stop - start) / section_content.length);
for (var i = 0; i < section_content.length; i++) {
    var in_frame = start + each * i,
        out_frame = in_frame + each;
    settings.sections.push({
        in_perc: in_frame / total_frames,
        out_perc: out_frame / total_frames,
        in_frame: in_frame,
        out_frame: out_frame,
        content: section_content[i]
    })
}
var site = new Site(settings);
site.init();